(this["webpackJsonphw-07-phonebook"]=this["webpackJsonphw-07-phonebook"]||[]).push([[0],{26:function(t,e,n){t.exports=n(60)},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c,a,o=n(0),r=n.n(o),u=n(6),l=n.n(u),i=n(4),s=n(11),b=n.n(s),d=n(1),h=Object(d.b)("contact/delete"),m=Object(d.b)("contact/deleteRequest"),f=Object(d.b)("contact/deleteSuccess"),p=Object(d.b)("contact/deleteError"),j={contactDelete:h,contactAddRequest:Object(d.b)("contact/addRequest"),contactAddSuccess:Object(d.b)("contact/addSuccess"),contactAddError:Object(d.b)("contact/addError"),contactGetRequest:Object(d.b)("contact/getRequest"),contactGetSuccess:Object(d.b)("contact/getSuccess"),contactGetError:Object(d.b)("contact/getError"),contactDeleteRequest:m,contactDeleteSuccess:f,contactDeleteError:p},O={contactAdd:function(t,e){return function(n,c){n(j.contactAddRequest()),!function(t,e){var n=!0;return t.length>0&&t.forEach((function(t){t.name===e?(alert("You already have this contact"),n=!1):n=!0})),n}(c().contacts,t)?n(j.contactAddError("Already have this contact...")):b.a.post("http://localhost:2000/contacts",{name:t,number:e}).then((function(t){return n(j.contactAddSuccess(t.data))})).catch((function(t){return n(j.contactAddError(t))}))}},contactGet:function(){return function(t){t(j.contactGetRequest()),b.a.get("http://localhost:2000/contacts").then((function(e){return t(j.contactGetSuccess(e.data))})).catch((function(e){return t(j.contactGetError(e))}))}},contactDelete:function(t){return function(e){e(j.contactDeleteRequest()),b.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){return e(j.contactDeleteSuccess(t))})).catch((function(t){return e(j.contactDeleteError(t))}))}}},E={lightTheme:{fontColor:"black",bodybg:"white"},darkTheme:{fontColor:"white",bodybg:"black"}},g=function(t){return t.contacts},y=function(t){return t.filter},v=function(t){return t.theme},C=(n(54),{onDelete:O.contactDelete}),A=Object(i.b)((function(t){return{contacts:g(t),filter:y(t),theme:v(t)}}),C)((function(t){var e=t.onDelete,n=t.contacts,c=t.filter,a=t.theme,o=function(t){return r.a.createElement("li",{key:t.id,className:"contactCard"},r.a.createElement("p",null,t.name,": "),r.a.createElement("p",null,t.number),r.a.createElement("button",{className:"contactCard__btn",value:t.id,onClick:function(t){return e(t.target.value)}},"Delete"))};return r.a.createElement("ul",{className:"contactList",style:{color:E[a].fontColor,background:E[a].bodybg}},n.length>0&&n.map((function(t){return function(t,e){return""!==t?e.name.toLowerCase().includes(t.toLowerCase())?o(e):null:o(e)}(c,t)})))})),k={filterAdd:Object(d.b)("filter/add")},S=(n(55),{filterAdd:k.filterAdd}),D=Object(i.b)((function(t){return{filter:y(t),theme:v(t)}}),S)((function(t){var e=t.filter,n=t.filterAdd,c=t.theme;return r.a.createElement("div",{className:"contactFormSearch",style:{color:E[c].fontColor,background:E[c].bodybg}},r.a.createElement("h2",null,"Contacts"),r.a.createElement("form",null,r.a.createElement("label",null,"Find a contact: "),r.a.createElement("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)}})))})),N=n(7),G=n(8),q=n(10),R=n(9),w=(n(56),function(t){Object(q.a)(n,t);var e=Object(R.a)(n);function n(){var t;Object(N.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.addContact=function(e){e.preventDefault(),t.props.onAdd(t.state.name,t.state.number),t.setState({name:"",number:""})},t.handleName=function(e){t.setState({name:e.target.value})},t.handleNumber=function(e){t.setState({number:e.target.value})},t}return Object(G.a)(n,[{key:"componentDidMount",value:function(){0===this.props.contacts.length&&this.props.onGet()}},{key:"render",value:function(){return r.a.createElement("div",{style:{color:E[this.props.theme].fontColor,background:E[this.props.theme].bodybg}},r.a.createElement("h1",null,"Phonebook"),r.a.createElement("form",{onSubmit:this.addContact,className:"contactFormEl"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleName}),r.a.createElement("label",null,"Number:"),r.a.createElement("input",{type:"text",value:this.state.number,onChange:this.handleNumber}),r.a.createElement("input",{type:"submit",value:"Add contact",className:"contactFormEl__button"})),this.props.loading&&r.a.createElement("h3",{style:{width:400,textAlign:"center",color:E[this.props.theme].fontColor,background:E[this.props.theme].bodybg}},"Loading...."))}}]),n}(o.Component)),T={onAdd:O.contactAdd,onGet:O.contactGet},x=Object(i.b)((function(t){return{contacts:g(t),filter:y(t),theme:v(t)}}),T)(w),F=(n(57),function(t){Object(q.a)(n,t);var e=Object(R.a)(n);function n(){return Object(N.a)(this,n),e.apply(this,arguments)}return Object(G.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{color:E[this.props.theme].fontColor,background:E[this.props.theme].bodybg}},this.props.children)}}]),n}(o.Component)),L=Object(i.b)((function(t){return{theme:v(t)}}),null)(F),_={themeChange:Object(d.b)("theme/change")},B=(n(58),{changeTheme:_.themeChange}),J=Object(i.b)((function(t){return{theme:v(t)}}),B)((function(t){var e=t.changeTheme,n=t.theme;return r.a.createElement("button",{className:"themeButton",onClick:function(){e("lightTheme"===n?"darkTheme":"lightTheme")}},"Change theme!")})),I=(n(59),function(){return r.a.createElement(L,null,r.a.createElement(J,null),r.a.createElement(x,null),r.a.createElement(D,null),r.a.createElement(A,null))}),M=n(2),P=n(12),Y=Object(d.c)([],(c={},Object(M.a)(c,j.contactAddSuccess,(function(t,e){return[].concat(Object(P.a)(t),[e.payload])})),Object(M.a)(c,j.contactGetSuccess,(function(t,e){return[].concat(Object(P.a)(t),Object(P.a)(e.payload))})),Object(M.a)(c,j.contactDeleteSuccess,(function(t,e){return t.filter((function(t){return t.id!==Number(e.payload)}))})),c)),z=Object(d.c)(!1,(a={},Object(M.a)(a,j.contactAddRequest,(function(){return!0})),Object(M.a)(a,j.contactAddSuccess,(function(){return!1})),Object(M.a)(a,j.contactAddError,(function(){return!1})),Object(M.a)(a,j.contactGetRequest,(function(){return!0})),Object(M.a)(a,j.contactGetSuccess,(function(){return!1})),Object(M.a)(a,j.contactGetError,(function(){return!1})),Object(M.a)(a,j.contactDeleteRequest,(function(){return!0})),Object(M.a)(a,j.contactDeleteSuccess,(function(){return!1})),Object(M.a)(a,j.contactDeleteError,(function(){return!1})),a)),H=Object(d.c)("",Object(M.a)({},k.filterAdd.type,(function(t,e){return e.payload}))),K=Object(d.c)("lightTheme",Object(M.a)({},_.themeChange.type,(function(t,e){return e.payload}))),Q=Object(d.a)({reducer:{contacts:Y,filter:H,theme:K,loading:z}});l.a.render(r.a.createElement(i.a,{store:Q},r.a.createElement(I,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.a2134f82.chunk.js.map